{"version":3,"file":"find_one.mjs","sources":["../../../../../../../node_modules/mongodb/lib/operations/find_one.js"],"sourcesContent":["'use strict';\n\nconst handleCallback = require('../utils').handleCallback;\nconst OperationBase = require('./operation').OperationBase;\nconst toError = require('../utils').toError;\nconst Aspect = require('./operation').Aspect;\nconst defineAspects = require('./operation').defineAspects;\n\nclass FindOneOperation extends OperationBase {\n  constructor(collection, query, options) {\n    super(options);\n\n    this.collection = collection;\n    this.query = query;\n  }\n\n  execute(callback) {\n    const coll = this.collection;\n    const query = this.query;\n    const options = this.options;\n\n    try {\n      const cursor = coll\n        .find(query, options)\n        .limit(-1)\n        .batchSize(1);\n\n      // Return the item\n      cursor.next((err, item) => {\n        if (err != null) return handleCallback(callback, toError(err), null);\n        handleCallback(callback, null, item);\n      });\n    } catch (e) {\n      callback(e);\n    }\n  }\n}\n\ndefineAspects(FindOneOperation, [Aspect.EXPLAINABLE]);\n\nmodule.exports = FindOneOperation;\n"],"names":["require$$0","require$$1"],"mappings":";;;AAEA,MAAM,cAAc,GAAGA,KAAmB,CAAC,cAAc,CAAC;AAC1D,MAAM,aAAa,GAAGC,SAAsB,CAAC,aAAa,CAAC;AAC3D,MAAM,OAAO,GAAGD,KAAmB,CAAC,OAAO,CAAC;AAC5C,MAAM,MAAM,GAAGC,SAAsB,CAAC,MAAM,CAAC;AAC7C,MAAM,aAAa,GAAGA,SAAsB,CAAC,aAAa,CAAC;AAC3D;AACA,MAAM,gBAAgB,SAAS,aAAa,CAAC;AAC7C,EAAE,WAAW,CAAC,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE;AAC1C,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AACnB;AACA,IAAI,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;AACjC,IAAI,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AACvB,GAAG;AACH;AACA,EAAE,OAAO,CAAC,QAAQ,EAAE;AACpB,IAAI,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;AACjC,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AAC7B,IAAI,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AACjC;AACA,IAAI,IAAI;AACR,MAAM,MAAM,MAAM,GAAG,IAAI;AACzB,SAAS,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC;AAC7B,SAAS,KAAK,CAAC,CAAC,CAAC,CAAC;AAClB,SAAS,SAAS,CAAC,CAAC,CAAC,CAAC;AACtB;AACA;AACA,MAAM,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,KAAK;AACjC,QAAQ,IAAI,GAAG,IAAI,IAAI,EAAE,OAAO,cAAc,CAAC,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;AAC7E,QAAQ,cAAc,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC7C,OAAO,CAAC,CAAC;AACT,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,QAAQ,CAAC,CAAC,CAAC,CAAC;AAClB,KAAK;AACL,GAAG;AACH,CAAC;AACD;AACA,aAAa,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;AACtD;YACc,GAAG;;;;"}