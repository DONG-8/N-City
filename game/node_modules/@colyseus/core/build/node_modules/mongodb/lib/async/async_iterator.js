'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

// async function* asyncIterator() {
//   while (true) {
//     const value = await this.next();
//     if (!value) {
//       await this.close();
//       return;
//     }

//     yield value;
//   }
// }

// TODO: change this to the async generator function above
function asyncIterator() {
  const cursor = this;

  return {
    next: function() {
      return Promise.resolve()
        .then(() => cursor.next())
        .then(value => {
          if (!value) {
            return cursor.close().then(() => ({ value, done: true }));
          }
          return { value, done: false };
        });
    }
  };
}

var asyncIterator_1 = asyncIterator;

var async_iterator = {
	asyncIterator: asyncIterator_1
};

exports.asyncIterator = asyncIterator_1;
exports.default = async_iterator;
//# sourceMappingURL=async_iterator.js.map
