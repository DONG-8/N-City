{"version":3,"file":"async_iterator.mjs","sources":["../../../../../../../node_modules/mongodb/lib/async/async_iterator.js"],"sourcesContent":["'use strict';\n\n// async function* asyncIterator() {\n//   while (true) {\n//     const value = await this.next();\n//     if (!value) {\n//       await this.close();\n//       return;\n//     }\n\n//     yield value;\n//   }\n// }\n\n// TODO: change this to the async generator function above\nfunction asyncIterator() {\n  const cursor = this;\n\n  return {\n    next: function() {\n      return Promise.resolve()\n        .then(() => cursor.next())\n        .then(value => {\n          if (!value) {\n            return cursor.close().then(() => ({ value, done: true }));\n          }\n          return { value, done: false };\n        });\n    }\n  };\n}\n\nexports.asyncIterator = asyncIterator;\n"],"names":[],"mappings":"AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,aAAa,GAAG;AACzB,EAAE,MAAM,MAAM,GAAG,IAAI,CAAC;AACtB;AACA,EAAE,OAAO;AACT,IAAI,IAAI,EAAE,WAAW;AACrB,MAAM,OAAO,OAAO,CAAC,OAAO,EAAE;AAC9B,SAAS,IAAI,CAAC,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;AAClC,SAAS,IAAI,CAAC,KAAK,IAAI;AACvB,UAAU,IAAI,CAAC,KAAK,EAAE;AACtB,YAAY,OAAO,MAAM,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AACtE,WAAW;AACX,UAAU,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AACxC,SAAS,CAAC,CAAC;AACX,KAAK;AACL,GAAG,CAAC;AACJ,CAAC;AACD;mBACqB,GAAG;;;;;;;;;"}