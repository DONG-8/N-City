{"version":3,"file":"explain.mjs","sources":["../../../../../../node_modules/mongodb/lib/explain.js"],"sourcesContent":["'use strict';\n\nconst MongoError = require('./core/error').MongoError;\n\nconst ExplainVerbosity = {\n  queryPlanner: 'queryPlanner',\n  queryPlannerExtended: 'queryPlannerExtended',\n  executionStats: 'executionStats',\n  allPlansExecution: 'allPlansExecution'\n};\n\n/**\n * @class\n * @property {'queryPlanner'|'queryPlannerExtended'|'executionStats'|'allPlansExecution'} verbosity The verbosity mode for the explain output.\n */\nclass Explain {\n  /**\n   * Constructs an Explain from the explain verbosity.\n   *\n   * For backwards compatibility, true is interpreted as \"allPlansExecution\"\n   * and false as \"queryPlanner\". Prior to server version 3.6, aggregate()\n   * ignores the verbosity parameter and executes in \"queryPlanner\".\n   *\n   * @param {'queryPlanner'|'queryPlannerExtended'|'executionStats'|'allPlansExecution'|boolean} [verbosity] The verbosity mode for the explain output.\n   */\n  constructor(verbosity) {\n    if (typeof verbosity === 'boolean') {\n      this.verbosity = verbosity ? 'allPlansExecution' : 'queryPlanner';\n    } else {\n      this.verbosity = verbosity;\n    }\n  }\n\n  /**\n   * Construct an Explain given an options object.\n   *\n   * @param {object} [options] The options object from which to extract the explain.\n   * @param {'queryPlanner'|'queryPlannerExtended'|'executionStats'|'allPlansExecution'|boolean} [options.explain] The verbosity mode for the explain output\n   * @return {Explain}\n   */\n  static fromOptions(options) {\n    if (options == null || options.explain === undefined) {\n      return;\n    }\n\n    const explain = options.explain;\n    if (typeof explain === 'boolean' || explain in ExplainVerbosity) {\n      return new Explain(options.explain);\n    }\n\n    throw new MongoError(`explain must be one of ${Object.keys(ExplainVerbosity)} or a boolean`);\n  }\n}\n\nmodule.exports = { Explain };\n"],"names":["require$$0"],"mappings":";;AAEA,MAAM,UAAU,GAAGA,KAAuB,CAAC,UAAU,CAAC;AACtD;AACA,MAAM,gBAAgB,GAAG;AACzB,EAAE,YAAY,EAAE,cAAc;AAC9B,EAAE,oBAAoB,EAAE,sBAAsB;AAC9C,EAAE,cAAc,EAAE,gBAAgB;AAClC,EAAE,iBAAiB,EAAE,mBAAmB;AACxC,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA,MAAM,OAAO,CAAC;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,SAAS,EAAE;AACzB,IAAI,IAAI,OAAO,SAAS,KAAK,SAAS,EAAE;AACxC,MAAM,IAAI,CAAC,SAAS,GAAG,SAAS,GAAG,mBAAmB,GAAG,cAAc,CAAC;AACxE,KAAK,MAAM;AACX,MAAM,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;AACjC,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,WAAW,CAAC,OAAO,EAAE;AAC9B,IAAI,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,CAAC,OAAO,KAAK,SAAS,EAAE;AAC1D,MAAM,OAAO;AACb,KAAK;AACL;AACA,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC;AACpC,IAAI,IAAI,OAAO,OAAO,KAAK,SAAS,IAAI,OAAO,IAAI,gBAAgB,EAAE;AACrE,MAAM,OAAO,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC1C,KAAK;AACL;AACA,IAAI,MAAM,IAAI,UAAU,CAAC,CAAC,uBAAuB,EAAE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;AACjG,GAAG;AACH,CAAC;AACD;WACc,GAAG,EAAE,OAAO;;;;"}