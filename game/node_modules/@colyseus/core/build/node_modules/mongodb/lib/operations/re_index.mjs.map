{"version":3,"file":"re_index.mjs","sources":["../../../../../../../node_modules/mongodb/lib/operations/re_index.js"],"sourcesContent":["'use strict';\n\nconst Aspect = require('./operation').Aspect;\nconst defineAspects = require('./operation').defineAspects;\nconst CommandOperationV2 = require('./command_v2');\nconst serverType = require('../core/sdam/common').serverType;\nconst ServerType = require('../core/sdam/common').ServerType;\nconst MongoError = require('../core').MongoError;\n\nclass ReIndexOperation extends CommandOperationV2 {\n  constructor(collection, options) {\n    super(collection, options);\n    this.collectionName = collection.collectionName;\n  }\n\n  execute(server, callback) {\n    if (serverType(server) !== ServerType.Standalone) {\n      callback(new MongoError(`reIndex can only be executed on standalone servers.`));\n      return;\n    }\n    super.executeCommand(server, { reIndex: this.collectionName }, (err, result) => {\n      if (err) {\n        callback(err);\n        return;\n      }\n      callback(null, !!result.ok);\n    });\n  }\n}\n\ndefineAspects(ReIndexOperation, [Aspect.EXECUTE_WITH_SELECTION]);\n\nmodule.exports = ReIndexOperation;\n"],"names":["require$$0","require$$1","require$$2","CommandOperationV2"],"mappings":";;;;;AAEA,MAAM,MAAM,GAAGA,SAAsB,CAAC,MAAM,CAAC;AAC7C,MAAM,aAAa,GAAGA,SAAsB,CAAC,aAAa,CAAC;AACR;AACnD,MAAM,UAAU,GAAGC,MAA8B,CAAC,UAAU,CAAC;AAC7D,MAAM,UAAU,GAAGA,MAA8B,CAAC,UAAU,CAAC;AAC7D,MAAM,UAAU,GAAGC,IAAkB,CAAC,UAAU,CAAC;AACjD;AACA,MAAM,gBAAgB,SAASC,UAAkB,CAAC;AAClD,EAAE,WAAW,CAAC,UAAU,EAAE,OAAO,EAAE;AACnC,IAAI,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;AAC/B,IAAI,IAAI,CAAC,cAAc,GAAG,UAAU,CAAC,cAAc,CAAC;AACpD,GAAG;AACH;AACA,EAAE,OAAO,CAAC,MAAM,EAAE,QAAQ,EAAE;AAC5B,IAAI,IAAI,UAAU,CAAC,MAAM,CAAC,KAAK,UAAU,CAAC,UAAU,EAAE;AACtD,MAAM,QAAQ,CAAC,IAAI,UAAU,CAAC,CAAC,mDAAmD,CAAC,CAAC,CAAC,CAAC;AACtF,MAAM,OAAO;AACb,KAAK;AACL,IAAI,KAAK,CAAC,cAAc,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE,CAAC,GAAG,EAAE,MAAM,KAAK;AACpF,MAAM,IAAI,GAAG,EAAE;AACf,QAAQ,QAAQ,CAAC,GAAG,CAAC,CAAC;AACtB,QAAQ,OAAO;AACf,OAAO;AACP,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;AAClC,KAAK,CAAC,CAAC;AACP,GAAG;AACH,CAAC;AACD;AACA,aAAa,CAAC,gBAAgB,EAAE,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC,CAAC;AACjE;YACc,GAAG;;;;"}