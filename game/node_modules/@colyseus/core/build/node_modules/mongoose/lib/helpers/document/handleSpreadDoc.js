'use strict';

var utils = require('../../utils.js');

/**
 * Using spread operator on a Mongoose document gives you a
 * POJO that has a tendency to cause infinite recursion. So
 * we use this function on `set()` to prevent that.
 */

var handleSpreadDoc = function handleSpreadDoc(v) {
  if (utils.isPOJO(v) && v.$__ != null && v._doc != null) {
    return v._doc;
  }

  return v;
};

module.exports = handleSpreadDoc;
//# sourceMappingURL=handleSpreadDoc.js.map
