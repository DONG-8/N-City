'use strict';

var _commonjsHelpers = require('../../../_virtual/_commonjsHelpers.js');
var assert = require('assert');
var mquery = require('../../mquery/lib/mquery.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var assert__default = /*#__PURE__*/_interopDefaultLegacy(assert);

/*!
 * ignore
 */




/**
 * Helper for multiplexing promise implementations
 *
 * @api private
 */

const store = {
  _promise: null
};

/**
 * Get the current promise constructor
 *
 * @api private
 */

store.get = function() {
  return store._promise;
};

/**
 * Set the current promise constructor
 *
 * @api private
 */

store.set = function(lib) {
  assert__default['default'].ok(typeof lib === 'function',
    `mongoose.Promise must be a function, got ${lib}`);
  store._promise = lib;
  mquery.Promise = lib;
};

/*!
 * Use native promises by default
 */

store.set(_commonjsHelpers.commonjsGlobal.Promise);

var promise_provider = store;

module.exports = promise_provider;
//# sourceMappingURL=promise_provider.js.map
