{"version":3,"file":"nodeback.js","sources":["../../../../../../../node_modules/bluebird/js/release/nodeback.js"],"sourcesContent":["\"use strict\";\nvar util = require(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = require(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = require(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var $_len = arguments.length;var args = new Array(Math.max($_len - 1, 0)); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];};\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n"],"names":[],"mappings":";;;;;;AAEA,IAAI,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC;AACZ;AACjC,IAAI,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;AACpB;AAC3B;AACA,SAAS,cAAc,CAAC,GAAG,EAAE;AAC7B,IAAI,OAAO,GAAG,YAAY,KAAK;AAC/B,QAAQ,GAAG,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,KAAK,CAAC,SAAS,CAAC;AACpD,CAAC;AACD;AACA,IAAI,SAAS,GAAG,gCAAgC,CAAC;AACjD,SAAS,sBAAsB,CAAC,GAAG,EAAE;AACrC,IAAI,IAAI,GAAG,CAAC;AACZ,IAAI,IAAI,cAAc,CAAC,GAAG,CAAC,EAAE;AAC7B,QAAQ,GAAG,GAAG,IAAI,gBAAgB,CAAC,GAAG,CAAC,CAAC;AACxC,QAAQ,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AAC5B,QAAQ,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;AAClC,QAAQ,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;AAC9B,QAAQ,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACjC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAC9C,YAAY,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9B,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AACtC,gBAAgB,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;AACpC,aAAa;AACb,SAAS;AACT,QAAQ,OAAO,GAAG,CAAC;AACnB,KAAK;AACL,IAAI,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;AAC7C,IAAI,OAAO,GAAG,CAAC;AACf,CAAC;AACD;AACA,SAAS,kBAAkB,CAAC,OAAO,EAAE,SAAS,EAAE;AAChD,IAAI,OAAO,SAAS,GAAG,EAAE,KAAK,EAAE;AAChC,QAAQ,IAAI,OAAO,KAAK,IAAI,EAAE,OAAO;AACrC,QAAQ,IAAI,GAAG,EAAE;AACjB,YAAY,IAAI,OAAO,GAAG,sBAAsB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;AACxE,YAAY,OAAO,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;AAC/C,YAAY,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACrC,SAAS,MAAM,IAAI,CAAC,SAAS,EAAE;AAC/B,YAAY,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AACpC,SAAS,MAAM;AACf,YAAY,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC,CAC5J,YAAY,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AACnC,SAAS;AACT,QAAQ,OAAO,GAAG,IAAI,CAAC;AACvB,KAAK,CAAC;AACN,CAAC;AACD;YACc,GAAG;;;;"}