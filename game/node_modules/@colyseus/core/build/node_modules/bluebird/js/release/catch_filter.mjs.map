{"version":3,"file":"catch_filter.mjs","sources":["../../../../../../../node_modules/bluebird/js/release/catch_filter.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util\");\nvar getKeys = require(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n"],"names":["util","require$$0","require$$1"],"mappings":";;;gBACc,GAAG,SAAS,WAAW,EAAE;AACvC,IAAIA,MAAI,GAAGC,IAAiB,CAAC;AAC7B,IAAI,OAAO,GAAGC,GAAgB,CAAC,IAAI,CAAC;AACpC,IAAI,QAAQ,GAAGF,MAAI,CAAC,QAAQ,CAAC;AAC7B,IAAI,QAAQ,GAAGA,MAAI,CAAC,QAAQ,CAAC;AAC7B;AACA,SAAS,WAAW,CAAC,SAAS,EAAE,EAAE,EAAE,OAAO,EAAE;AAC7C,IAAI,OAAO,SAAS,CAAC,EAAE;AACvB,QAAQ,IAAI,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;AAC5C,QAAQ,aAAa,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AAClE,YAAY,IAAI,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACpC;AACA,YAAY,IAAI,IAAI,KAAK,KAAK;AAC9B,iBAAiB,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,SAAS,YAAY,KAAK,CAAC,EAAE;AACnE,gBAAgB,IAAI,CAAC,YAAY,IAAI,EAAE;AACvC,oBAAoB,OAAO,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AACzD,iBAAiB;AACjB,aAAa,MAAM,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AACnD,gBAAgB,IAAI,gBAAgB,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AACvE,gBAAgB,IAAI,gBAAgB,KAAK,QAAQ,EAAE;AACnD,oBAAoB,OAAO,gBAAgB,CAAC;AAC5C,iBAAiB,MAAM,IAAI,gBAAgB,EAAE;AAC7C,oBAAoB,OAAO,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AACzD,iBAAiB;AACjB,aAAa,MAAM,IAAIA,MAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;AACzC,gBAAgB,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AACzC,gBAAgB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;AACtD,oBAAoB,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACtC,oBAAoB,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;AAC7C,wBAAwB,SAAS,aAAa,CAAC;AAC/C,qBAAqB;AACrB,iBAAiB;AACjB,gBAAgB,OAAO,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;AACrD,aAAa;AACb,SAAS;AACT,QAAQ,OAAO,WAAW,CAAC;AAC3B,KAAK,CAAC;AACN,CAAC;AACD;AACA,OAAO,WAAW,CAAC;AACnB;;;;"}