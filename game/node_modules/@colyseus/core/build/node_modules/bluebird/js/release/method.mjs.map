{"version":3,"file":"method.mjs","sources":["../../../../../../../node_modules/bluebird/js/release/method.js"],"sourcesContent":["\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = require(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n"],"names":["util","require$$0"],"mappings":"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"}